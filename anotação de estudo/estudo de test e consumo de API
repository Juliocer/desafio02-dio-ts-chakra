# üìö Guia Completo de Aprendizado - Sistema de Login com Testes

## üéØ √çndice
1. [Conceitos B√°sicos](#conceitos-b√°sicos)
2. [Estrutura do Projeto](#estrutura-do-projeto)
3. [TypeScript Essencial](#typescript-essencial)
4. [React Hooks](#react-hooks)
5. [Promises e Async/Await](#promises-e-async-await)
6. [Testes com Jest](#testes-com-jest)
7. [Fluxo Completo da Aplica√ß√£o](#fluxo-completo)
8. [Exerc√≠cios Pr√°ticos](#exerc√≠cios-pr√°ticos)

---

## 1. Conceitos B√°sicos

### O que √© cada arquivo?

```
src/
‚îú‚îÄ‚îÄ api.ts              ‚Üí Simula uma API (banco de dados falso)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ login.tsx       ‚Üí L√≥gica de valida√ß√£o do login
‚îÇ   ‚îî‚îÄ‚îÄ login.test.tsx  ‚Üí Testes automatizados
‚îî‚îÄ‚îÄ components/
    ‚îî‚îÄ‚îÄ Card/
        ‚îî‚îÄ‚îÄ Card.tsx    ‚Üí Interface visual (formul√°rio)
```

---

## 2. Estrutura do Projeto

### üìÅ api.ts - O "Banco de Dados"

```typescript
const conta = {
    email: 'julio@gmail.com',
    password: '123456',
    name: 'Julio'
}

export const api = new Promise((resolve) => {
    setTimeout(() => {
        resolve(conta)
    }, 500)
})
```

**O que acontece aqui?**
- `conta`: objeto com dados do usu√°rio v√°lido
- `new Promise`: simula uma chamada de API que demora
- `setTimeout`: espera 500ms (0.5 segundo)
- `resolve(conta)`: "entrega" os dados depois do delay

**Analogia:** √â como fazer um pedido no restaurante e esperar 500ms para o gar√ßom trazer.

---

## 3. TypeScript Essencial

### Tipos B√°sicos

```typescript
// String (texto)
const nome: string = "Julio";

// Number (n√∫mero)
const idade: number = 25;

// Boolean (verdadeiro/falso)
const logado: boolean = true;

// Array (lista)
const frutas: string[] = ["ma√ß√£", "banana"];
```

### Interfaces - "Moldes" para Objetos

```typescript
interface UserData {
    email: string;
    password: string;
    name: string;
}

// Agora s√≥ posso criar usu√°rios com esses campos
const usuario: UserData = {
    email: 'julio@gmail.com',
    password: '123456',
    name: 'Julio'
}
```

**Por que usar?**
- TypeScript avisa se voc√™ esquecer um campo
- Previne erros como `usuario.emial` (erro de digita√ß√£o)
- IDE mostra autocomplete

---

## 4. React Hooks

### useState - Guardando Informa√ß√µes

```typescript
const [name, setName] = useState<string>("");
//     ‚Üì         ‚Üì                ‚Üì          ‚Üì
//  vari√°vel  fun√ß√£o      tipo   valor inicial
```

**Exemplo pr√°tico:**

```typescript
// Guardar o nome digitado
const [name, setName] = useState<string>("");

// Quando o usu√°rio digita no input
<Input 
    value={name}                        // Mostra o valor atual
    onChange={(e) => setName(e.target.value)}  // Atualiza quando muda
/>
```

**Analogia:** `useState` √© como uma caixinha:
- `name`: o que tem dentro da caixinha
- `setName`: fun√ß√£o para colocar algo novo na caixinha
- `""`: a caixinha come√ßa vazia

### M√∫ltiplos useState

```typescript
const [name, setName] = useState<string>("");
const [email, setEmail] = useState<string>("");
const [password, setPassword] = useState<string>("");
const [isLoading, setIsLoading] = useState<boolean>(false);
```

Cada um guarda uma informa√ß√£o diferente!

---

## 5. Promises e Async/Await

### O que √© uma Promise?

√â uma "promessa" de que algo vai acontecer no futuro.

```typescript
// Promise = "Prometo te dar os dados em 500ms"
export const api = new Promise((resolve) => {
    setTimeout(() => {
        resolve(conta)  // "Aqui est√£o os dados!"
    }, 500)
})
```

### Async/Await - Esperando a Promise

**Sem async/await (confuso):**
```typescript
api.then((data) => {
    console.log(data)
})
```

**Com async/await (mais claro):**
```typescript
const data = await api;
console.log(data)
```

### Regra de Ouro

```typescript
// ‚ùå ERRADO - n√£o pode usar await sem async
function minhaFuncao() {
    const data = await api;
}

// ‚úÖ CERTO - tem que colocar async antes
async function minhaFuncao() {
    const data = await api;
}
```

---

## 6. Testes com Jest

### Por que testar?

Imagine que voc√™ tem um carro. Testes s√£o como:
- ‚úÖ Verificar se o motor liga
- ‚úÖ Verificar se os freios funcionam
- ‚úÖ Verificar se as luzes acendem

**Sem testes:** Voc√™ s√≥ descobre problemas quando est√° dirigindo (tarde demais!)
**Com testes:** Voc√™ descobre problemas antes de sair de casa.

### Estrutura de um Teste

```typescript
describe('login', () => {           // Agrupa testes relacionados
    
    it('Deve fazer login com sucesso', async () => {  // Um teste espec√≠fico
        
        // 1. ARRANGE (Preparar)
        const nome = 'Julio';
        const email = 'julio@gmail.com';
        const senha = '123456';
        
        // 2. ACT (Executar)
        const resultado = await login(nome, email, senha);
        
        // 3. ASSERT (Verificar)
        expect(resultado).toBe(true);
    })
})
```

### Mock - Simulando Comportamento

```typescript
const mockAlert = jest.fn()
window.alert = mockAlert
```

**O que isso faz?**
- Substitui o `alert()` real por uma vers√£o falsa
- Permite verificar se o alert foi chamado
- Evita popups durante os testes

**Exemplo:**

```typescript
// C√≥digo testado
alert('Bem vindo!');

// No teste
expect(mockAlert).toHaveBeenCalledWith('Bem vindo!');
```

### beforeEach - Limpeza

```typescript
beforeEach(() => {
    mockAlert.mockClear();
})
```

**Por que?** Limpa o hist√≥rico antes de cada teste, garantindo que eles n√£o se influenciem.

---

## 7. Fluxo Completo da Aplica√ß√£o

### Passo a Passo Visual

```
USU√ÅRIO                 CARD.TSX              LOGIN.TSX           API.TS
   |                       |                      |                  |
   |--Digita "Julio"------>|                      |                  |
   |   (onChange)          |                      |                  |
   |                  setName("Julio")            |                  |
   |                       |                      |                  |
   |--Clica "Entrar"------>|                      |                  |
   |   (onClick)           |                      |                  |
   |                  handleLogin()               |                  |
   |                       |                      |                  |
   |                       |--login(dados)------->|                  |
   |                       |                      |                  |
   |                       |             Valida campos vazios?       |
   |                       |                  ‚úì OK                   |
   |                       |                      |                  |
   |                       |                      |--await api------>|
   |                       |                      |                  |
   |                       |                      |        (espera 500ms)
   |                       |                      |                  |
   |                       |                      |<---dados---------|
   |                       |                      |                  |
   |                       |              Compara credenciais        |
   |                       |                  ‚úì Correto!             |
   |                       |                      |                  |
   |                       |                 alert("Bem vindo!")     |
   |<---Popup--------------|<-------return true---|                  |
```

### C√≥digo Completo Comentado

```typescript
// ========== CARD.TSX ==========
export const Card = () => {
    // 1. Estados: guardam informa√ß√µes
    const [name, setName] = useState<string>("");
    const [email, setEmail] = useState<string>("");
    const [password, setPassword] = useState<string>("");
    const [isLoading, setIsLoading] = useState<boolean>(false);

    // 2. Fun√ß√£o que executa ao clicar no bot√£o
    const handleLogin = async () => {
        setIsLoading(true);              // Mostra "carregando"
        await login(name, email, password);  // Tenta fazer login
        setIsLoading(false);             // Para de mostrar "carregando"
    };

    // 3. Interface visual
    return (
        <Box>
            <Input 
                value={name} 
                onChange={(e) => setName(e.target.value)}
            />
            <ButtonLogin onClick={handleLogin} />
        </Box>
    );
};

// ========== LOGIN.TSX ==========
export const login = async (
    name: string, 
    email: string, 
    password: string
): Promise<boolean> => {
    
    // 1. Valida√ß√µes b√°sicas
    if (!name.trim()) {
        alert('Por favor, digite seu nome');
        return false;
    }
    
    // 2. Buscar dados da API
    const data = await api as UserData;
    
    // 3. Comparar credenciais
    if (email !== data.email) {
        alert('Email inv√°lido');
        return false;
    }
    
    // 4. Sucesso!
    alert(`Bem vindo, ${name}!`);
    return true;
}
```

---

## 8. Exerc√≠cios Pr√°ticos

### üéØ N√≠vel 1 - B√°sico

**Exerc√≠cio 1:** Adicione um campo "telefone" no formul√°rio
```typescript
// Dica: siga o padr√£o dos outros campos
const [phone, setPhone] = useState<string>("");
```

**Exerc√≠cio 2:** Crie um teste para verificar se o nome "Jo√£o" √© inv√°lido
```typescript
it('Deve exibir erro quando o nome √© Jo√£o', async () => {
    // Complete aqui
})
```

### üéØ N√≠vel 2 - Intermedi√°rio

**Exerc√≠cio 3:** Modifique a API para ter 2 usu√°rios diferentes

**Exerc√≠cio 4:** Adicione valida√ß√£o: email deve conter "@"

**Exerc√≠cio 5:** Crie um teste para senha com menos de 6 caracteres

### üéØ N√≠vel 3 - Avan√ßado

**Exerc√≠cio 6:** Adicione um bot√£o "Esqueci minha senha"

**Exerc√≠cio 7:** Crie um sistema de tentativas (m√°ximo 3 tentativas)

**Exerc√≠cio 8:** Adicione um timer: bloqueia login por 30s ap√≥s 3 erros

---

## üìñ Gloss√°rio R√°pido

| Termo | Significado |
|-------|-------------|
| **useState** | Hook para guardar dados que podem mudar |
| **async/await** | Esperar por algo que demora (API, etc) |
| **Promise** | Promessa de que algo vai acontecer |
| **interface** | Define a "forma" de um objeto |
| **mock** | Vers√£o falsa para testes |
| **describe** | Agrupa testes relacionados |
| **it** | Define um teste espec√≠fico |
| **expect** | Verifica se algo √© verdade |
| **beforeEach** | Executa antes de cada teste |

---

## üéì Pr√≥ximos Passos

1. ‚úÖ Rode os testes: `npm test`
2. ‚úÖ Modifique um valor na API e veja o teste falhar
3. ‚úÖ Adicione um novo campo no formul√°rio
4. ‚úÖ Crie um teste para esse novo campo
5. ‚úÖ Experimente quebrar o c√≥digo de prop√≥sito e ver os testes detectarem

---

## üí° Dicas Finais

- **Leia os erros:** TypeScript e Jest d√£o mensagens √∫teis
- **Console.log √© seu amigo:** Use para ver o que est√° acontecendo
- **Teste no navegador:** Veja como funciona na pr√°tica
- **Quebre o c√≥digo:** Aprenda o que N√ÉO fazer
- **Pergunte:** N√£o tenha vergonha de n√£o saber

---

## üöÄ Recursos Extras

- [Documenta√ß√£o React Hooks](https://react.dev/reference/react)
- [TypeScript em 5 minutos](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html)
- [Jest - Come√ßando](https://jestjs.io/pt-BR/docs/getting-started)

**Lembre-se:** Todo programador come√ßou do zero. A diferen√ßa entre iniciante e experiente √© apenas pr√°tica! üí™